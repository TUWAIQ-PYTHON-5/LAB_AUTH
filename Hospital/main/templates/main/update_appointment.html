{% extends 'main/base.html' %}

{% block title %} Update Appointment {% endblock %}

{% block content %}

<section id="appointment" class="appointment section-bg">
    <div class="container">

      <div class="section-title">
        <h2>Update Appointment</h2>
      </div>

      <form action="" method="post">
        {% csrf_token %}
        <div class="row">
          <div class="col-md-4 form-group">
            <input type="text" name="name" class="form-control" id="name" value="{{ appointment.user.first_name }}" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
            <div class="validate"></div>
          </div>
          <div class="col-md-4 form-group mt-3 mt-md-0">
            <input type="email" class="form-control" name="email" id="email" value="{{ appointment.user.email }}" data-rule="email" data-msg="Please enter a valid email">
            <div class="validate"></div>
          </div>
          <div class="col-md-4 form-group mt-3 mt-md-0">
            <input type="tel" class="form-control" name="patient_age" id="patient_age" value="{{ appointment.patient_age }}" data-rule="minlen:4" data-msg="Please enter at least 4 chars">
          </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-5 form-group mt-3">
            <label for="date" style="margin-left: 90px;">Appointment Date: </label>
            <input type="date" name="appointment_datetime" class= "ms-4 me-0" style="padding-left: 40px; padding-right: 40px; padding-top: 5px; padding-bottom: 5px;"/>
            <div class="validate"></div>
          </div>
          <div class="col-md-2 form-group mt-3 me-5">
            <select name="department" id="department" class="form-select">
              <option value="HEART_CENTER" {% if appointment.clinic.department == "HEART_CENTER" %} selected {% endif %}>Heart Center</option>
              <option value="NEUROSCIENCE_CENTER" {% if appointment.clinic.department == "NEUROSCIENCE_CENTER" %} selected {% endif %}>Neuroscience Center</option>
              <option value="OBESITY_CENTER" {% if appointment.clinic.department == "OBESITY_CENTER" %} selected {% endif %}>Obesity Center</option>
              <option value="EYE_CENTER" {% if appointment.clinic.department == "EYE_CENTER" %} selected {% endif %}>Eye Center</option>
              <option value="ORTHOPEDIC_CENTER" {% if appointment.clinic.department == "ORTHOPEDIC_CENTER" %} selected {% endif %}>Orthopedic Center</option>
              <option value="PEDIATRIC_CENTER" {% if appointment.clinic.department == "PEDIATRIC_CENTER" %} selected {% endif %}>Pediatric Center</option>
            </select>
          </div>
          <div class="col-md-2 form-group mt-3" style="margin-left: 150px;">
            <select name="is_attended" id="is_attended" class="form-select">
              <option value="True" {% if appointment.is_attended == True %} selected {% endif %}>Has Attended</option>
              <option value="False" {% if appointment.is_attended == False %} selected {% endif %}>Has Not Attended</option>
            </select>
          </div>
          
        <div class="validate"></div>
        <div class="form-group mt-3">
          <textarea class="form-control" name="case_description" rows="5" value="{{ appointment.case_description }}">{{ appointment.case_description }}</textarea>
          <div class="validate"></div>
        </div>
        <div class="text-center"><button type="submit" style="border-radius: 10px; margin-top: 10px; padding: 8px;">Update Appointment</button></div>
    </form>
      

    </div>
  </section><!-- End Appointment Section -->

{% endblock %}
<!-- ======= Appointment Section ======= -->
